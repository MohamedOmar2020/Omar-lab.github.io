let get_vimeo_videoID=function(e){let o;return o=0<e.indexOf("vimeo.com")?e.substr(e.lastIndexOf("/")+1,e.length):15<e.length?null:e,o};!function($){jQuery.vimeo_player={name:"jquery.mb.vimeo_player",author:"Matteo Bicocchi (pupunzi)",version:"1.2.0",build:"567",defaults:{containment:"body",ratio:16/9,videoURL:null,quality:"1080p",startAt:0,stopAt:0,autoPlay:!0,fadeTime:1e3,vol:5,addRaster:!1,opacity:1,mute:!0,loop:!0,showControls:!0,show_vimeo_logo:!0,stopMovieOnBlur:!0,realfullscreen:!0,playOnMobile:!0,playsinline:!0,mobileFallbackImage:null,gaTrack:!1,optimizeDisplay:!0,mask:!1,align:"center,center",onReady:function(e){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",fullscreen:"O",showSite:"R",logo:"V"},buildPlayer:function(options){let isIframe=function(){let e=!1;try{self.location.href!=top.location.href&&(e=!0)}catch(o){e=!0}return e},script=document.createElement("script");return script.src="//player.vimeo.com/api/player.js",script.onload=function(){jQuery(document).trigger("vimeo_api_loaded")},document.head.appendChild(script),this.each((function(){let vimeo_player=this,VEvent,$vimeo_player=jQuery(vimeo_player);vimeo_player.loop=0,vimeo_player.opt={},vimeo_player.state={},vimeo_player.id=vimeo_player.id||"YTP_"+(new Date).getTime(),$vimeo_player.addClass("vimeo_player");let property=$vimeo_player.data("property")&&"string"==typeof $vimeo_player.data("property")?eval("("+$vimeo_player.data("property")+")"):$vimeo_player.data("property");if(jQuery.extend(vimeo_player.opt,jQuery.vimeo_player.defaults,options,property),vimeo_player.opt.ratio="auto"==vimeo_player.opt.ratio?16/9:vimeo_player.opt.ratio,eval(vimeo_player.opt.loop)&&(vimeo_player.opt.loop=9999),vimeo_player.isRetina=window.retina||1<window.devicePixelRatio,vimeo_player.canGoFullScreen=!(jQuery.browser.msie||jQuery.browser.opera||isIframe()),vimeo_player.canGoFullScreen||(vimeo_player.opt.realfullscreen=!1),vimeo_player.isAlone=!1,vimeo_player.hasFocus=!0,vimeo_player.videoID=this.opt.videoURL?get_vimeo_videoID(this.opt.videoURL):!!$vimeo_player.attr("href")&&get_vimeo_videoID($vimeo_player.attr("href")),vimeo_player.isSelf="self"==vimeo_player.opt.containment,vimeo_player.opt.containment="self"==vimeo_player.opt.containment?jQuery(this):jQuery(vimeo_player.opt.containment),vimeo_player.opt.vol=vimeo_player.opt.vol/10,vimeo_player.isBackground=vimeo_player.opt.containment.is("body"),!vimeo_player.isBackground||!vimeo_player.backgroundIsInited){vimeo_player.playOnMobile=vimeo_player.opt.playOnMobile&&jQuery.browser.mobile,vimeo_player.isSelf||$vimeo_player.hide();let overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("vimeo_player_overlay");vimeo_player.isSelf&&overlay.on("click",(function(){$vimeo_player.togglePlay()}));let playerID="vimeo_player_"+vimeo_player.id,wrapper=jQuery("<div/>").addClass("vimeo_player_wrapper").attr("id","vimeo_player_wrapper_"+playerID);if(wrapper.css({position:"absolute",zIndex:0,width:"100%",height:"100%",left:0,top:0,overflow:"hidden",opacity:0}),vimeo_player.wrapper=wrapper,vimeo_player.opt.containment.prepend(wrapper),vimeo_player.opt.mobileFallbackImage&&jQuery.browser.mobile)return wrapper.css({backgroundImage:"url("+vimeo_player.opt.mobileFallbackImage+")",backgroundPosition:"center center",backgroundSize:"cover",backgroundRepeat:"no-repeat",opacity:1}),setTimeout((function(){VEvent=jQuery.Event("VPFallback"),$vimeo_player.trigger(VEvent)}),1e3),$vimeo_player.hide(),$vimeo_player;vimeo_player.opt.containment.children().not("script, style").each((function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")})),vimeo_player.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0})):"static"==vimeo_player.opt.containment.css("position")&&vimeo_player.opt.containment.css({position:"relative"}),vimeo_player.videoWrapper=wrapper,vimeo_player.overlay=overlay,vimeo_player.isBackground||overlay.on("mouseenter",(function(){vimeo_player.controlBar&&vimeo_player.controlBar.length&&vimeo_player.controlBar.addClass("visible")})).on("mouseleave",(function(){vimeo_player.controlBar&&vimeo_player.controlBar.length&&vimeo_player.controlBar.removeClass("visible")})),jQuery(document).on("vimeo_api_loaded",(function(){let vURL="//player.vimeo.com/video/"+vimeo_player.videoID,options={id:vURL,muted:vimeo_player.opt.mute?1:0,background:1,quality:vimeo_player.opt.quality,autoplay:vimeo_player.playOnMobile?1:0,playsinline:vimeo_player.playOnMobile?1:0};vimeo_player.player=new Vimeo.Player(vimeo_player.videoWrapper.get(0).id,options),vimeo_player.player.ready().then((function(){function start(){vimeo_player.isReady=!0,vimeo_player.opt.mute&&setTimeout((function(){$vimeo_player.v_mute()}),1),vimeo_player.opt.showControls&&jQuery.vimeo_player.buildControls(vimeo_player),vimeo_player.opt.autoPlay?vimeo_player.playOnMobile?setTimeout((function(){VEvent=jQuery.Event("VPStart"),$vimeo_player.trigger(VEvent),vimeo_player.videoWrapper.fadeTo(vimeo_player.opt.fadeTime,vimeo_player.opt.opacity)}),1e3):setTimeout((function(){vimeo_player.player.pause(),$vimeo_player.v_play(),VEvent=jQuery.Event("VPStart"),$vimeo_player.trigger(VEvent),$vimeo_player.v_optimize_display()}),vimeo_player.opt.fadeTime):$vimeo_player.v_pause(),VEvent=jQuery.Event("VPReady"),VEvent.opt=vimeo_player.opt,$vimeo_player.trigger(VEvent),"function"==typeof vimeo_player.opt.onReady&&vimeo_player.opt.onReady(vimeo_player),$vimeo_player.v_optimize_display()}vimeo_player.playerBox=vimeo_player.videoWrapper.find("iframe"),vimeo_player.playerBox.after(overlay),vimeo_player.opt.startAt?(vimeo_player.player.play().then((function(){vimeo_player.player.pause()})),$vimeo_player.v_seekTo(vimeo_player.opt.startAt,(function(){start()}))):start(),jQuery(window).off("resize.vimeo_player_"+vimeo_player.id).on("resize.vimeo_player_"+vimeo_player.id,(function(){clearTimeout(vimeo_player.optimizeD),vimeo_player.optimizeD=setTimeout((function(){$vimeo_player.v_optimize_display()}),250)})),vimeo_player.player.on("progress",(function(e){VEvent=jQuery.Event("VPProgress"),VEvent.data=e,$vimeo_player.trigger(VEvent)})),vimeo_player.player.on("error",(function(e){vimeo_player.state=-1,VEvent=jQuery.Event("VPError"),VEvent.error=e,$vimeo_player.trigger(VEvent)})),vimeo_player.player.on("play",(function(data){if(vimeo_player.state=1,$vimeo_player.trigger("change_state"),vimeo_player.controlBar&&vimeo_player.controlBar.length&&vimeo_player.controlBar.find(".vimeo_player_pause").html(jQuery.vimeo_player.controls.pause),"undefined"!=typeof _gaq&&eval(vimeo_player.opt.gaTrack)&&_gaq.push(["_trackEvent","vimeo_player","Play",vimeo_player.videoID]),"undefined"!=typeof ga&&eval(vimeo_player.opt.gaTrack)&&ga("send","event","vimeo_player","play",vimeo_player.videoID),VEvent=jQuery.Event("VPPlay"),VEvent.error=data,$vimeo_player.trigger(VEvent),vimeo_player.opt.addRaster){let e="dot"==vimeo_player.opt.addRaster?"raster-dot":"raster";vimeo_player.overlay.addClass(vimeo_player.isRetina?e+" retina":e)}else vimeo_player.overlay.removeClass((function(e,o){let r=o.split(" "),t=[];return jQuery.each(r,(function(e,o){/raster.*/.test(o)&&t.push(o)})),t.push("retina"),t.join(" ")}))})),vimeo_player.player.on("pause",(function(e){vimeo_player.state=2,$vimeo_player.trigger("change_state"),vimeo_player.controlBar&&vimeo_player.controlBar.length&&vimeo_player.controlBar.find(".vimeo_player_pause").html(jQuery.vimeo_player.controls.play),VEvent=jQuery.Event("VPPause"),VEvent.time=e,$vimeo_player.trigger(VEvent)})),vimeo_player.player.on("seeked",(function(e){vimeo_player.state=3,$vimeo_player.trigger("change_state")})),vimeo_player.player.on("ended",(function(e){vimeo_player.state=0,$vimeo_player.trigger("change_state"),VEvent=jQuery.Event("VPEnd"),VEvent.time=e,$vimeo_player.trigger(VEvent)})),vimeo_player.player.on("timeupdate",(function(e){if(vimeo_player.duration=e.duration,vimeo_player.percent=e.percent,vimeo_player.seconds=e.seconds,vimeo_player.state=1,vimeo_player.player.getPaused().then((function(e){e&&(vimeo_player.state=2)})),vimeo_player.opt.stopMovieOnBlur&&(document.hasFocus()||1==vimeo_player.state&&(vimeo_player.hasFocus=!1,$vimeo_player.v_pause(),vimeo_player.document_focus=setInterval((function(){document.hasFocus()&&!vimeo_player.hasFocus&&(vimeo_player.hasFocus=!0,$vimeo_player.v_play(),clearInterval(vimeo_player.document_focus))}),300))),vimeo_player.opt.showControls){let t=jQuery("#controlBar_"+vimeo_player.id),i=t.find(".vimeo_player_pogress"),a=t.find(".vimeo_player_loaded"),l=t.find(".vimeo_player_seek_bar");var o=i.outerWidth(),r=Math.floor(e.seconds)*o/Math.floor(e.duration),o=100*e.percent;a.css({left:0,width:o+"%"}),l.css({left:0,width:r}),e.duration?vimeo_player.controlBar.find(".vimeo_player_time").html(jQuery.vimeo_player.formatTime(e.seconds)+" / "+jQuery.vimeo_player.formatTime(e.duration)):vimeo_player.controlBar.find(".vimeo_player_time").html("-- : -- / -- : --")}vimeo_player.opt.stopAt=vimeo_player.opt.stopAt>e.duration?e.duration-.5:vimeo_player.opt.stopAt,r=vimeo_player.opt.stopAt||e.duration-.5,e.seconds>=r&&(vimeo_player.loop=vimeo_player.loop||0,vimeo_player.opt.loop&&vimeo_player.loop<vimeo_player.opt.loop?($vimeo_player.v_seekTo(vimeo_player.opt.startAt),vimeo_player.loop++):($vimeo_player.v_pause(),vimeo_player.state=0,$vimeo_player.trigger("change_state"))),VEvent=jQuery.Event("VPTime"),VEvent.time=e.seconds,$vimeo_player.trigger(VEvent)}))})),$vimeo_player.on("change_state",(function(){0===vimeo_player.state&&vimeo_player.videoWrapper.fadeOut(vimeo_player.opt.fadeTime,(function(){$vimeo_player.v_seekTo(0)}))}))}))}}))},formatTime:function(e){var o=Math.floor(e/60),e;return(o<=9?"0"+o:o)+" : "+((e=Math.floor(e-60*o))<=9?"0"+e:e)},play:function(){let e=this.get(0);if(!e.isReady)return this;e.player.pause(),e.player.play(),setTimeout((function(){e.videoWrapper.fadeTo(e.opt.fadeTime,e.opt.opacity)}),1e3);let o=jQuery("#controlBar_"+e.id);if(o.length){let e;o.find(".mb_YTPPvimeo_player_playpause").html(jQuery.vimeo_player.controls.pause)}return e.state=1,jQuery(e).css("background-image","none"),this},togglePlay:function(e){var o=this.get(0);return 1===o.state?this.v_pause():this.v_play(),"function"==typeof e&&e(o.state),this},pause:function(){let e=this.get(0);return e.player.pause(),e.state=2,this},seekTo:function(e,o){let r=this.get(0);return e=r.opt.stopAt&&e>=r.opt.stopAt?r.opt.stopAt-.5:e,r.player.setCurrentTime(e).then((function(e){"function"==typeof o&&o(e)})),this},setVolume:function(e){let o=this.get(0);return o.isMute=!1,o.opt.vol=e||o.opt.vol,o.player.setVolume(o.opt.vol),o.volumeBar&&o.volumeBar.length&&o.volumeBar.updateSliderVal(100*e),this},toggleVolume:function(){var e=this.get(0);if(e)return e.isMute?(jQuery(e).v_unmute(),!0):(jQuery(e).v_mute(),!1)},mute:function(){let e=this.get(0),o,r;return e.isMute||(e.playOnMobile&&e.player.toggleMute(),e.isMute=!0,e.player.setVolume(0),e.volumeBar&&e.volumeBar.length&&10<e.volumeBar.width()&&e.volumeBar.updateSliderVal(0),jQuery("#controlBar_"+e.id).find(".vimeo_player_muteUnmute").html(jQuery.vimeo_player.controls.unmute),jQuery(e).addClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.addClass("muted")),this},unmute:function(){let e=this.get(0);if(e.isMute){let o,r;return e.isMute=!1,e.playOnMobile&&e.player.toggleMute(),jQuery(e).v_set_volume(e.opt.vol),e.volumeBar&&e.volumeBar.length&&e.volumeBar.updateSliderVal(.1<e.opt.vol?e.opt.vol:.1),jQuery("#controlBar_"+e.id).find(".vimeo_player_muteUnmute").html(jQuery.vimeo_player.controls.mute),jQuery(e).removeClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.removeClass("muted"),this}},playerDestroy:function(){let e=this.get(0);return e.isReady&&e.player.destroy().then((function(){e.loop=0,e.opt={},e.state={},e.wrapper.remove(),jQuery("#controlBar_"+e.id).remove(),clearInterval(e.document_focus)})).catch((function(e){console.error("Vimeo_player could not be destroyed. The error is: "+e)})),this},changeMovie:function(e){var o=this;let r=o.get(0);r.opt.startAt=0,r.opt.stopAt=0,r.opt.mask=!1,r.opt.mute=!0,r.hasData=!1,r.hasChanged=!0,r.player.loopTime=void 0,e&&jQuery.extend(r.opt,e),!r.opt.loop&&"true"!==r.opt.loop||(r.opt.loop=9999),r.player.loadVideo(e.videoURL).then((function(e){o.v_optimize_display(),jQuery(r).v_play(),r.opt.startAt&&o.v_seekTo(r.opt.startAt)}))},buildControls:function(vimeo_player){let data=vimeo_player.opt;if(!jQuery("#controlBar_"+vimeo_player.id).length){vimeo_player.controlBar=jQuery("<span/>").attr("id","controlBar_"+vimeo_player.id).addClass("vimeo_player_bar").css({whiteSpace:"noWrap",position:vimeo_player.isBackground?"fixed":"absolute",zIndex:vimeo_player.isBackground?1e4:1e3});let buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.vimeo_player.controls.play+"</span>").addClass("vimeo_player_pause vimeo_icon").click((function(){1===vimeo_player.state?jQuery(vimeo_player).v_pause():jQuery(vimeo_player).v_play()})),MuteUnmute=jQuery("<span>"+jQuery.vimeo_player.controls.mute+"</span>").addClass("vimeo_player_muteUnmute vimeo_icon").click((function(){vimeo_player.isMute?jQuery(vimeo_player).v_unmute():jQuery(vimeo_player).v_mute()})),volumeBar=jQuery("<div/>").addClass("vimeo_player_volume_bar").css({display:"inline-block"});vimeo_player.volumeBar=volumeBar;let idx=jQuery("<span/>").addClass("vimeo_player_time"),vURL="https://vimeo.com/"+vimeo_player.videoID,movieUrl=jQuery("<span/>").html(jQuery.vimeo_player.controls.logo).addClass("vimeo_url vimeo_icon").attr("title","view on Vimeo").on("click",(function(){window.open(vURL,"viewOnVimeo")})),fullscreen=jQuery("<span/>").html(jQuery.vimeo_player.controls.fullscreen).addClass("vimeo_fullscreen vimeo_icon").on("click",(function(){jQuery(vimeo_player).v_fullscreen(data.realfullscreen)})),progressBar=jQuery("<div/>").addClass("vimeo_player_pogress").css("position","absolute").click((function(e){timeBar.css({width:e.clientX-timeBar.offset().left}),vimeo_player.timeW=e.clientX-timeBar.offset().left,vimeo_player.controlBar.find(".vimeo_player_loaded").css({width:0}),e=Math.floor(vimeo_player.duration),vimeo_player.goto=timeBar.outerWidth()*e/progressBar.outerWidth(),jQuery(vimeo_player).v_seekTo(parseFloat(vimeo_player.goto)),vimeo_player.controlBar.find(".vimeo_player_loaded").css({width:0})})),loadedBar=jQuery("<div/>").addClass("vimeo_player_loaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("vimeo_player_seek_bar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(volumeBar).append(idx),data.show_vimeo_logo&&buttonBar.append(movieUrl),(vimeo_player.isBackground||eval(vimeo_player.opt.realfullscreen)&&!vimeo_player.isBackground)&&buttonBar.append(fullscreen),vimeo_player.controlBar.append(buttonBar).append(progressBar),vimeo_player.isBackground?jQuery("body").after(vimeo_player.controlBar):vimeo_player.videoWrapper.before(vimeo_player.controlBar),volumeBar.simpleSlider({initialval:vimeo_player.opt.vol,scale:100,orientation:"h",callback:function(e){0===e.value?jQuery(vimeo_player).v_mute():jQuery(vimeo_player).v_unmute(),vimeo_player.player.setVolume(e.value/100),vimeo_player.isMute||(vimeo_player.opt.vol=e.value)}})}},optimizeVimeoDisplay:function(align){let vimeo_player=this.get(0),vid={};vimeo_player.opt.align=align||vimeo_player.opt.align,vimeo_player.opt.align="undefined "!=typeof vimeo_player.opt.align?vimeo_player.opt.align:"center,center";let VimeoAlign=vimeo_player.opt.align.split(",");if(vimeo_player.opt.optimizeDisplay){let win={},el=vimeo_player.videoWrapper,abundance=vimeo_player.isPlayer?0:.15*el.outerHeight();win.width=el.outerWidth()+abundance,win.height=el.outerHeight()+abundance,vimeo_player.opt.ratio=eval(vimeo_player.opt.ratio),vid.width=win.width,vid.height=Math.ceil(vid.width/vimeo_player.opt.ratio),vid.marginTop=Math.ceil(-(vid.height-win.height)/2),vid.marginLeft=0,vimeo_player.playerBox.css({top:0,opacity:0,width:100,height:Math.ceil(100/vimeo_player.opt.ratio),marginTop:0,marginLeft:0,frameBorder:0});let lowest=vid.height<win.height;for(var a in lowest&&(vid.height=win.height,vid.width=Math.ceil(vid.height*vimeo_player.opt.ratio),vid.marginTop=0,vid.marginLeft=Math.ceil(-(vid.width-win.width)/2)),VimeoAlign)if(VimeoAlign.hasOwnProperty(a)){let e=VimeoAlign[a].replace(/ /g,"");switch(e){case"top":vid.marginTop=lowest?-(vid.height-win.height)/2:0;break;case"bottom":vid.marginTop=lowest?0:-(vid.height-win.height);break;case"left":vid.marginLeft=0;break;case"right":vid.marginLeft=lowest?-(vid.width-win.width):0;break;default:vid.width>win.width&&(vid.marginLeft=-(vid.width-win.width)/2)}}}else vid.width="100%",vid.height="100%",vid.marginTop=0,vid.marginLeft=0;setTimeout((function(){vimeo_player.playerBox.css({opacity:1,width:vid.width,height:vid.height,marginTop:vid.marginTop,marginLeft:vid.marginLeft,maxWidth:"initial"})}),10)},setAlign:function(e){this.v_optimize_display(e)},getAlign:function(){return this.get(0).opt.align},fullscreen:function(real){let vimeo_player=this.get(0),$vimeo_player=jQuery(vimeo_player),VEvent;void 0===real&&(real=vimeo_player.opt.realfullscreen),real=eval(real);let controls=jQuery("#controlBar_"+vimeo_player.id),fullScreenBtn=controls.find(".vimeo_fullscreen"),videoWrapper=vimeo_player.isSelf?vimeo_player.opt.containment:vimeo_player.videoWrapper;if(real){let e=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(e).on(e,(function(){var e=RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen");VEvent=e?jQuery.Event("VPFullScreenStart"):(vimeo_player.isAlone=!1,fullScreenBtn.html(jQuery.vimeo_player.controls.fullscreen),videoWrapper.removeClass("vimeo_player_Fullscreen"),videoWrapper.fadeTo(vimeo_player.opt.fadeTime,vimeo_player.opt.opacity),videoWrapper.css({zIndex:0}),vimeo_player.isBackground?jQuery("body").after(controls):vimeo_player.videoWrapper.before(controls),jQuery(window).resize(),jQuery.Event("VPFullScreenEnd")),$vimeo_player.trigger(VEvent)}))}function hideMouse(){vimeo_player.overlay.css({cursor:"none"})}function RunPrefixMethod(e,o){let r=["webkit","moz","ms","o",""],t=0,i,a;for(;t<r.length&&!e[i];){if(i=o,""==r[t]&&(i=i.substr(0,1).toLowerCase()+i.substr(1)),i=r[t]+i,a=typeof e[i],"undefined"!=a)return r=[r[t]],"function"==a?e[i]():e[i];t++}}function launchFullscreen(e){RunPrefixMethod(e,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}return vimeo_player.isAlone?(jQuery(document).off("mousemove.vimeo_player"),clearTimeout(vimeo_player.hideCursor),vimeo_player.overlay.css({cursor:"auto"}),real?cancelFullscreen():videoWrapper.fadeTo(vimeo_player.opt.fadeTime,vimeo_player.opt.opacity).css({zIndex:0}),fullScreenBtn.html(jQuery.vimeo_player.controls.fullscreen),vimeo_player.isAlone=!1):(jQuery(document).on("mousemove.vimeo_player",(function(e){vimeo_player.overlay.css({cursor:"auto"}),clearTimeout(vimeo_player.hideCursor),jQuery(e.target).parents().is(".vimeo_player_bar")||(vimeo_player.hideCursor=setTimeout(hideMouse,3e3))})),hideMouse(),real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("vimeo_player_Fullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout((function(){videoWrapper.fadeTo(vimeo_player.opt.fadeTime,1),vimeo_player.videoWrapper.append(controls),jQuery(vimeo_player).v_optimize_display()}),500)):videoWrapper.css({zIndex:1e4}).fadeTo(vimeo_player.opt.fadeTime,1),fullScreenBtn.html(jQuery.vimeo_player.controls.showSite),vimeo_player.isAlone=!0),this}},jQuery.fn.vimeo_player=jQuery.vimeo_player.buildPlayer,jQuery.fn.v_play=jQuery.vimeo_player.play,jQuery.fn.v_toggle_play=jQuery.vimeo_player.togglePlay,jQuery.fn.v_change_movie=jQuery.vimeo_player.changeMovie,jQuery.fn.v_pause=jQuery.vimeo_player.pause,jQuery.fn.v_seekTo=jQuery.vimeo_player.seekTo,jQuery.fn.v_optimize_display=jQuery.vimeo_player.optimizeVimeoDisplay,jQuery.fn.v_set_align=jQuery.vimeo_player.setAlign,jQuery.fn.v_get_align=jQuery.vimeo_player.getAlign,jQuery.fn.v_fullscreen=jQuery.vimeo_player.fullscreen,jQuery.fn.v_mute=jQuery.vimeo_player.mute,jQuery.fn.v_unmute=jQuery.vimeo_player.unmute,jQuery.fn.v_set_volume=jQuery.vimeo_player.setVolume,jQuery.fn.v_toggle_volume=jQuery.vimeo_player.toggleVolume}(jQuery);var nAgt=navigator.userAgent;function isTouchSupported(){var e=nAgt.msMaxTouchPoints,o="ontouchstart"in document.createElement("div");return!(!e&&!o)}jQuery.browser=jQuery.browser||{},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.androidStock=!1,jQuery.browser.msie=!1,jQuery.browser.edge=!1,jQuery.browser.ua=nAgt;var getOS=function(){var e={version:"Unknown version",name:"Unknown OS"};return-1!=navigator.appVersion.indexOf("Win")&&(e.name="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&navigator.appVersion.indexOf("Mobile")<0&&(e.name="Mac"),-1!=navigator.appVersion.indexOf("Linux")&&(e.name="Linux"),/Mac OS X/.test(nAgt)&&!/Mobile/.test(nAgt)&&(e.version=/Mac OS X ([\._\d]+)/.exec(nAgt)[1],e.version=e.version.replace(/_/g,".").substring(0,5)),/Windows/.test(nAgt)&&(e.version="Unknown.Unknown"),/Windows NT 5.1/.test(nAgt)&&(e.version="5.1"),/Windows NT 6.0/.test(nAgt)&&(e.version="6.0"),/Windows NT 6.1/.test(nAgt)&&(e.version="6.1"),/Windows NT 6.2/.test(nAgt)&&(e.version="6.2"),/Windows NT 10.0/.test(nAgt)&&(e.version="10.0"),/Linux/.test(nAgt)&&/Linux/.test(nAgt)&&(e.version="Unknown.Unknown"),e.name=e.name.toLowerCase(),e.major_version="Unknown",e.minor_version="Unknown","Unknown.Unknown"!=e.version&&(e.major_version=parseFloat(e.version.split(".")[0]),e.minor_version=parseFloat(e.version.split(".")[1])),e},nameOffset,verOffset,ix,start,end;jQuery.browser.os=getOS(),jQuery.browser.hasTouch=isTouchSupported(),jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10),-1!=(verOffset=nAgt.indexOf("Opera"))?(jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("OPR"))?(jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4)):-1!=(verOffset=nAgt.indexOf("MSIE"))?(jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5)):-1!=nAgt.indexOf("Trident")?(jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",start=nAgt.indexOf("rv:")+3,end=start+4,jQuery.browser.fullVersion=nAgt.substring(start,end)):-1!=(verOffset=nAgt.indexOf("Edge"))?(jQuery.browser.edge=!0,jQuery.browser.name="Microsoft Edge",jQuery.browser.fullVersion=nAgt.substring(verOffset+5)):-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1<nAgt.indexOf("mozilla/5.0")&&-1<nAgt.indexOf("android ")&&-1<nAgt.indexOf("applewebkit")&&!(-1<nAgt.indexOf("chrome"))?(verOffset=nAgt.indexOf("Chrome"),jQuery.browser.webkit=!0,jQuery.browser.androidStock=!0,jQuery.browser.name="androidStock",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))||-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName)),-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion,jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&765<jQuery(window).width(),jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt),jQuery.mbBrowser=jQuery.browser,jQuery.browser.versionCompare=function(e,o){if("stringstring"!=typeof e+typeof o)return!1;for(var r=e.split("."),t=o.split("."),i=0,a=Math.max(r.length,t.length);i<a;i++){if(r[i]&&!t[i]&&0<parseInt(r[i])||parseInt(r[i])>parseInt(t[i]))return 1;if(t[i]&&!r[i]&&0<parseInt(t[i])||parseInt(r[i])<parseInt(t[i]))return-1}return 0},function(e){e.simpleSlider={defaults:{initialval:0,maxVal:100,orientation:"h",readonly:!1,callback:!1},events:{start:e.browser.mobile?"touchstart":"mousedown",end:e.browser.mobile?"touchend":"mouseup",move:e.browser.mobile?"touchmove":"mousemove"},init:function(o){return this.each((function(){var r=this,t=e(r);t.addClass("simpleSlider"),r.opt={},e.extend(r.opt,e.simpleSlider.defaults,o),e.extend(r.opt,t.data());var i="h"==r.opt.orientation?"horizontal":"vertical",i=e("<div/>").addClass("level").addClass(i);t.prepend(i),r.level=i,t.css({cursor:"default"}),"auto"==r.opt.maxVal&&(r.opt.maxVal=e(r).outerWidth()),t.updateSliderVal(),r.opt.readonly||(t.on(e.simpleSlider.events.start,(function(o){e.browser.mobile&&(o=o.changedTouches[0]),r.canSlide=!0,t.updateSliderVal(o),"h"==r.opt.orientation?t.css({cursor:"col-resize"}):t.css({cursor:"row-resize"}),r.lastVal=r.val,e.browser.mobile||(o.preventDefault(),o.stopPropagation())})),e(document).on(e.simpleSlider.events.move,(function(o){e.browser.mobile&&(o=o.changedTouches[0]),r.canSlide&&(e(document).css({cursor:"default"}),t.updateSliderVal(o),e.browser.mobile||(o.preventDefault(),o.stopPropagation()))})).on(e.simpleSlider.events.end,(function(){e(document).css({cursor:"auto"}),r.canSlide=!1,t.css({cursor:"auto"})})))}))},updateSliderVal:function(o){var r,t,i=this.get(0);i.opt&&(i.opt.initialval="number"==typeof i.opt.initialval?i.opt.initialval:i.opt.initialval(i),r=e(i).outerWidth(),t=e(i).outerHeight(),i.x="object"==typeof o?o.clientX+document.body.scrollLeft-this.offset().left:"number"==typeof o?o*r/i.opt.maxVal:i.opt.initialval*r/i.opt.maxVal,i.y="object"==typeof o?o.clientY+document.body.scrollTop-this.offset().top:"number"==typeof o?(i.opt.maxVal-i.opt.initialval-o)*t/i.opt.maxVal:i.opt.initialval*t/i.opt.maxVal,i.y=this.outerHeight()-i.y,i.scaleX=i.x*i.opt.maxVal/r,i.scaleY=i.y*i.opt.maxVal/t,i.outOfRangeX=i.scaleX>i.opt.maxVal?i.scaleX-i.opt.maxVal:i.scaleX<0?i.scaleX:0,i.outOfRangeY=i.scaleY>i.opt.maxVal?i.scaleY-i.opt.maxVal:i.scaleY<0?i.scaleY:0,i.outOfRange="h"==i.opt.orientation?i.outOfRangeX:i.outOfRangeY,i.value=void 0!==o?"h"==i.opt.orientation?i.x>=this.outerWidth()?i.opt.maxVal:i.x<=0?0:i.scaleX:i.y>=this.outerHeight()?i.opt.maxVal:i.y<=0?0:i.scaleY:"h"==i.opt.orientation?i.scaleX:i.scaleY,"h"==i.opt.orientation?i.level.width(Math.floor(100*i.x/r)+"%"):i.level.height(Math.floor(100*i.y/t)),i.lastVal===i.value&&("h"===i.opt.orientation&&(i.x>=this.outerWidth()||i.x<=0)||"h"!==i.opt.orientation&&(i.y>=this.outerHeight()||i.y<=0))||(console.debug(i.value),"function"==typeof i.opt.callback&&i.opt.callback(i),i.lastVal=i.value))}},e.fn.simpleSlider=e.simpleSlider.init,e.fn.updateSliderVal=e.simpleSlider.updateSliderVal}(jQuery);var cookieStorage={setCookie:function e(o,r,t,i){var a=new Date;a.setTime(a.getTime()+t);var l="";void 0!==i&&(l="path="+i+";"),document.cookie=o+"="+r+";"+l+"expires="+a.toUTCString()},getCookie:function e(o){var r=document.cookie.match("(^|;) ?"+o+"=([^;]*)(;|$)");return r?r[2]:null},removeCookie:function e(o){document.cookie=o+"=; Max-Age=0; path=/"}};!function(e){e(".navbar-toggle").click((function(){return e(".mobile-nav").fadeToggle(),e(this).parents(".mobile-nav-wrap").toggleClass("open"),e(".sub-menu").removeClass("sub-open"),!1})),e("#mobile-nav li").has("ul").find("> a").after('<a href="#" class="expand" title="Expand Sub Menu"></a>'),e("#mobile-nav .menu-item-has-children > .expand").click((function(o){o.preventDefault();var r=e(this),t;r.toggleClass("sub-menu-open"),r.prev().toggleClass("sub-menu-open"),0==r.parents(".sub-menu").length&&r.parents(".mobile-parent-menu").siblings().find(".sub-menu").slideUp(400),r.next().slideToggle(),r.parent().siblings(".menu-item-has-children").find("a").removeClass("sub-menu-open"),r.parent().siblings(".menu-item-has-children").find(".sub-menu").slideUp(400)}))}(jQuery),window.addEventListener("DOMContentLoaded",(function(){document.body.className+=" visible"})),function(e){if(e("body").hasClass("single-service")){var o=e("#slideshow-related");if(o.length){var r=e("#slick-prev"),t=e("#slick-next");o.slick({autoplay:!0,autoplaySpeed:4e3,infinite:!0,speed:500,prevArrow:r,nextArrow:t,slidesToShow:3,responsive:[{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:767,settings:{slidesToShow:1}}]})}}else{var i=e(".slideshow-row");i.length&&i.each((function(){var o=e(this).find(".slideshow");if(o.length){var r=e(this).find(".slick-arrow.prev"),t=e(this).find(".slick-arrow.next");o.slick({autoplay:!0,autoplaySpeed:3e3,infinite:!0,speed:500,prevArrow:r,nextArrow:t})}}))}var a=e("#search-toggle"),l=e(".desktop-nav-custom .search-form");a.length&&l.length&&a.click((function(){l.toggle()}));const n=document.querySelectorAll(".theme-toggle input");if(n){const e=document.documentElement,o=()=>{const o=undefined,r="dark"===localStorage.getItem("hlbTheme")?"light":"dark";localStorage.setItem("hlbTheme",r),e.classList.toggle("dark-theme","dark"===r)};n.forEach(e=>{e.addEventListener("click",o)})}var s=e("#back-to-top"),p=e("#back-to-top a");p.length&&(p.click((function(){e("html, body").animate({scrollTop:e(this.hash).offset().top},800)})),window.matchMedia("(min-width: 768px)").matches&&e(window).scroll((function(){setTimeout((function(){var o;e(this).scrollTop()>300?s.fadeIn():s.fadeOut()}),200)})));var u=e("header"),v;u.length&&window.matchMedia("(min-width: 1024px)").matches&&e(window).scroll((function(){setTimeout((function(){var o;e(this).scrollTop()>0?u.addClass("scrolled"):u.removeClass("scrolled")}),100)})),gsap.config({nullTargetWarn:!1}),gsap.utils.toArray(".fade-group").forEach((function(e){var o=e.querySelectorAll(".fade-group-entry");gsap.set(o,{opacity:1}),gsap.from(o,{autoAlpha:0,y:10,scale:.99,duration:.8,stagger:.15,ease:"power3.inOut",scrollTrigger:{trigger:e,start:"top 85%"}})}));const m=gsap.utils.toArray(".fade-entry"),y=e=>{e.forEach(e=>{gsap.set(e,{opacity:1}),gsap.from(e,{autoAlpha:0,y:10,scale:.99,duration:.8,ease:"power3.inOut",scrollTrigger:{trigger:e,start:"top 85%"}})})};y(m),document.addEventListener("facetwp-loaded",()=>{const e=gsap.utils.toArray(".project-entry.fade-entry");y(e)});const d=e(".projects-index--filter .category"),c=e(".projects-index--results .projects-group");d.length&&c.length&&d.on("click",(function(o){o.preventDefault();const r=e(this),t=r.attr("href"),i=e(t);d.not(r).removeClass("active"),r.addClass("active"),c.not(i).stop(!0,!0).hide().removeClass("active"),i.stop(!0,!0).fadeIn().addClass("active")}))}(jQuery);